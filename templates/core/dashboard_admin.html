{% extends "base.html" %}

{% block title %}–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å ‚Äî –ü–∞—Ä—Ç–Ω—ë—Ä–∫–∞{% endblock %}

{% block content %}
  <div class="mb-3">
    <h1 class="h4 mb-1">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h1>
    <p class="text-muted small mb-0">
      –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {{ user.username }}. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∞–º–∏, –¥–∏–∞–ª–æ–≥–∞–º–∏, –±–∞–∑–∞–º–∏ –∏ –ª–∏–¥–∞–º–∏.
    </p>
  </div>

  <div class="row row-cols-1 row-cols-md-2 g-3 mt-2 dashboard-grid">
    <div class="col">
      <div class="card h-100 shadow-sm">
        <div class="card-body">
          <div class="card-icon contacts mb-2">üë•</div>
          <h2 class="h5 mb-2">–í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h2>
          <p class="text-muted small mb-3">
            –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: –Ω–∞–ø–∏—Å–∞—Ç—å, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ª–∏–¥–æ–≤, –≤—ã–¥–∞—á–∞ –ª–∏–º–∏—Ç–æ–≤.
          </p>
          <div class="d-flex align-items-center gap-2">
            <a class="btn btn-outline-primary btn-sm" href="{% url 'admin_all_users' %}">–ü–µ—Ä–µ–π—Ç–∏</a>
          </div>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card h-100 shadow-sm">
        <div class="card-body">
          <div class="card-icon report mb-2">üìù</div>
          <h2 class="h5 mb-2">–ù–æ–≤—ã–µ –æ—Ç—á—ë—Ç—ã</h2>
          <p class="text-muted small mb-3">
            –í—Å–µ –æ—Ç—á—ë—Ç—ã –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ –∏ –Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫–µ –æ—Ç –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –û–¥–æ–±—Ä–∏—Ç—å, –æ—Ç–∫–ª–æ–Ω–∏—Ç—å –∏–ª–∏ –Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É ‚Äî –≤ –æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ.
          </p>
          <div class="d-flex align-items-center gap-2">
            <a class="btn btn-outline-primary btn-sm" href="{% url 'admin_leads_all_new' %}">–ü–µ—Ä–µ–π—Ç–∏</a>
            <span id="admin-pending-leads" class="btn btn-danger btn-sm" title="–û—Ç—á—ë—Ç–æ–≤ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ" style="{% if not pending_leads_count %}display:none;{% endif %}">{{ pending_leads_count|default:0 }}</span>
          </div>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card h-100 shadow-sm">
        <div class="card-body">
          <div class="card-icon contacts mb-2">üìã</div>
          <h2 class="h5 mb-2">–ó–∞—è–≤–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h2>
          <p class="text-muted small mb-3">
            –û–¥–æ–±—Ä–µ–Ω–∏–µ –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∑–∞—è–≤–æ–∫ –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é.
          </p>
          <div class="d-flex align-items-center gap-2">
            <a class="btn btn-outline-primary btn-sm" href="{% url 'admin_users_pending' %}">–ü–µ—Ä–µ–π—Ç–∏</a>
            <span id="admin-pending-requests" class="btn btn-danger btn-sm" title="–ù–æ–≤—ã—Ö –∑–∞—è–≤–æ–∫" style="{% if not pending_requests_count %}display:none;{% endif %}">{{ pending_requests_count|default:0 }}</span>
          </div>
        </div>
      </div>
    </div>

    <div class="col">
      <div class="card h-100 shadow-sm">
        <div class="card-body">
          <div class="card-icon support mb-2">üí¨</div>
          <h2 class="h5 mb-2">–î–∏–∞–ª–æ–≥–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏</h2>
          <p class="text-muted small mb-3">
            –°–ø–∏—Å–æ–∫ –æ–±—Ä–∞—â–µ–Ω–∏–π –∏ —á–∞—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.
          </p>
          <div class="d-flex align-items-center gap-2">
            <a class="btn btn-outline-primary btn-sm" href="{% url 'support_threads_list' %}">–ü–µ—Ä–µ–π—Ç–∏</a>
            <span id="admin-unread-threads" class="btn btn-danger btn-sm" title="–ù–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤" style="{% if not unread_threads_count %}display:none;{% endif %}">{{ unread_threads_count|default:0 }}</span>
          </div>
        </div>
      </div>
    </div>

    <div class="col">
      <div class="card h-100 shadow-sm">
        <div class="card-body">
          <div class="card-icon contacts mb-2">üì•</div>
          <h2 class="h5 mb-2">–í—ã–¥–∞—á–∞ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –ø–æ –∑–∞–ø—Ä–æ—Å—É</h2>
          <p class="text-muted small mb-3">
            –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ—Å—è—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ª–∏–º–∏—Ç –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤. –í—ã–¥–∞—Ç—å –ª–∏–º–∏—Ç—ã –∏ –æ—Ç–º–µ—Ç–∏—Ç—å –∑–∞—è–≤–∫–∏.
          </p>
          <div class="d-flex align-items-center gap-2">
            <a class="btn btn-outline-primary btn-sm" href="{% url 'admin_contact_requests' %}">–ü–µ—Ä–µ–π—Ç–∏</a>
            <span id="admin-contact-requests" class="btn btn-danger btn-sm" title="–ó–∞—è–≤–æ–∫ –Ω–∞ –∫–æ–Ω—Ç–∞–∫—Ç—ã" style="{% if not contact_requests_pending_count %}display:none;{% endif %}">{{ contact_requests_pending_count|default:0 }}</span>
          </div>
        </div>
      </div>
    </div>

    <div class="col">
      <div class="card h-100 shadow-sm">
        <div class="card-body">
          <div class="card-icon contacts mb-2">üí∞</div>
          <h2 class="h5 mb-2">–ó–∞—è–≤–∫–∏ –Ω–∞ –≤—ã–≤–æ–¥</h2>
          <p class="text-muted small mb-3">
            –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∑–∞–ø—Ä–æ—Å–∏–ª–∏ –≤—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤ (–±–∞–ª–∞–Ω—Å –≤ —Ä—É–±–ª—è—Ö). –û–¥–æ–±—Ä–∏—Ç—å –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω–∏—Ç—å.
          </p>
          <div class="d-flex align-items-center gap-2">
            <a class="btn btn-outline-primary btn-sm" href="{% url 'admin_withdrawal_requests' %}">–ü–µ—Ä–µ–π—Ç–∏</a>
            <span id="admin-withdrawal-requests" class="btn btn-danger btn-sm" title="–ó–∞—è–≤–æ–∫ –Ω–∞ –≤—ã–≤–æ–¥" style="{% if not withdrawal_requests_pending_count %}display:none;{% endif %}">{{ withdrawal_requests_pending_count|default:0 }}</span>
          </div>
        </div>
      </div>
    </div>

    <div class="col">
      <div class="card h-100 shadow-sm">
        <div class="card-body">
          <div class="card-icon stats mb-2">üìä</div>
          <h2 class="h5 mb-2">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
          <p class="text-muted small mb-3">
            –°–≤–æ–¥–∫–∞ –ø–æ –±–∞–∑–∞–º –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –∏ –ª–∏–¥–∞–º.
          </p>
          <a class="btn btn-outline-primary btn-sm" href="{% url 'admin_stats' %}">–ü–µ—Ä–µ–π—Ç–∏</a>
        </div>
      </div>
    </div>

    <div class="col">
      <div class="card h-100 shadow-sm">
        <div class="card-body">
          <div class="card-icon report mb-2">üì¶</div>
          <h2 class="h5 mb-2">–ë–∞–∑—ã (Excel)</h2>
          <p class="text-muted small mb-3">
            –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –≤—ã–≥—Ä—É–∑–∫–∞ –±–∞–∑ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –≤ Excel.
          </p>
          <a class="btn btn-outline-primary btn-sm" href="{% url 'bases_excel' %}">–ü–µ—Ä–µ–π—Ç–∏</a>
        </div>
      </div>
    </div>

    <div class="col">
      <div class="card h-100 shadow-sm">
        <div class="card-body">
          <div class="card-icon stats mb-2">üìã</div>
          <h2 class="h5 mb-2">–í—ã–≥—Ä—É–∑–∏—Ç—å –ª–∏–¥—ã (Excel)</h2>
          <p class="text-muted small mb-3">
            –°–∫–∞—á–∞—Ç—å –≤—Å–µ –ª–∏–¥—ã –≤ –æ–¥–Ω–æ–º Excel-—Ñ–∞–π–ª–µ.
          </p>
          <a class="btn btn-outline-primary btn-sm" href="{% url 'download_leads_excel' %}">–°–∫–∞—á–∞—Ç—å</a>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
